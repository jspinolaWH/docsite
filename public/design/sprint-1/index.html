<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Product Management ‚Äî WasteHero 2.0</title>
<style>
/* ‚îÄ‚îÄ‚îÄ RESET ‚îÄ‚îÄ‚îÄ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, sans-serif;
  font-size: 14px; color: #1a1a2e; background: #fff;
  height: 100vh; overflow: hidden; display: flex; flex-direction: column;
}

/* ‚îÄ‚îÄ‚îÄ TOP ACCENT BAR ‚îÄ‚îÄ‚îÄ */
.accent-bar { height: 4px; background: #1a1a2e; flex-shrink: 0; }

/* ‚îÄ‚îÄ‚îÄ PAGE HEADER ‚îÄ‚îÄ‚îÄ */
.page-header {
  padding: 16px 24px 0 24px; flex-shrink: 0;
  display: flex; align-items: center; justify-content: space-between;
}
.page-title { font-size: 18px; font-weight: 700; color: #1a1a2e; }
.header-user { display: flex; align-items: center; gap: 10px; }
.avatar {
  width: 32px; height: 32px; background: #0052CC; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 12px; font-weight: 700; color: white;
}
.user-name { font-size: 13px; color: #42526E; }

/* ‚îÄ‚îÄ‚îÄ HORIZONTAL TAB NAV ‚îÄ‚îÄ‚îÄ */
.tab-nav {
  display: flex; align-items: flex-end; padding: 0 24px;
  border-bottom: 2px solid #DFE1E6; margin-top: 12px; flex-shrink: 0;
  gap: 0; overflow-x: auto;
}
.tab-nav-item {
  padding: 10px 18px; cursor: pointer; font-size: 14px; font-weight: 400;
  color: #42526E; border-bottom: 3px solid transparent; margin-bottom: -2px;
  display: flex; align-items: center; gap: 6px; white-space: nowrap;
  transition: color 0.15s; user-select: none; flex-shrink: 0;
}
.tab-nav-item:hover { color: #0052CC; }
.tab-nav-item.active { color: #0052CC; font-weight: 600; border-bottom-color: #0052CC; }
.tab-nav-item.disabled { color: #A5ADBA; cursor: default; pointer-events: none; }
.tab-badge {
  font-size: 10px; font-weight: 500; color: #6B778C; background: #F4F5F7;
  border-radius: 100px; padding: 1px 6px; font-style: normal;
}
.tab-nav-item.active .tab-badge { background: #DEEBFF; color: #0052CC; }
.tab-nav-item.disabled .tab-badge { color: #A5ADBA; }

/* ‚îÄ‚îÄ‚îÄ BODY LAYOUT ‚îÄ‚îÄ‚îÄ */
.body-layout {
  display: flex; flex: 1; overflow: hidden;
}

/* ‚îÄ‚îÄ‚îÄ LEFT FILTER PANEL ‚îÄ‚îÄ‚îÄ */
.filter-panel {
  width: 180px; flex-shrink: 0; border-right: 1px solid #DFE1E6;
  padding: 16px 0; overflow-y: auto;
}
.filter-label {
  font-size: 10px; font-weight: 700; text-transform: uppercase;
  color: #6B778C; letter-spacing: 0.10em; padding: 0 16px 8px 16px;
}
.filter-item {
  display: flex; align-items: center; justify-content: space-between;
  padding: 7px 16px; cursor: pointer; border-radius: 0;
  font-size: 13px; color: #42526E; transition: background 0.1s;
}
.filter-item:hover { background: #F4F5F7; }
.filter-item.active { background: #DEEBFF; color: #0052CC; font-weight: 600; }
.filter-count {
  font-size: 12px; font-weight: 500; color: #6B778C;
  background: #F4F5F7; border-radius: 10px; padding: 1px 7px; min-width: 22px;
  text-align: center;
}
.filter-item.active .filter-count { background: #DEEBFF; color: #0052CC; }

/* ‚îÄ‚îÄ‚îÄ MAIN CONTENT ‚îÄ‚îÄ‚îÄ */
.main { flex: 1; overflow-y: auto; padding: 20px 24px; }

/* ‚îÄ‚îÄ‚îÄ SCREENS ‚îÄ‚îÄ‚îÄ */
.screen { display: none; }
.screen.active { display: block; }

/* ‚îÄ‚îÄ‚îÄ TOOLBAR ‚îÄ‚îÄ‚îÄ */
.toolbar {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 16px; gap: 12px;
}
.toolbar-left { display: flex; align-items: center; gap: 8px; }
.toolbar-right { display: flex; align-items: center; gap: 8px; }
.search-wrap { position: relative; }
.search-wrap input {
  width: 320px; height: 36px; padding: 0 12px 0 34px;
  border: 1px solid #DFE1E6; border-radius: 6px; font-size: 13px;
  color: #172B4D; outline: none; font-family: inherit; background: #fff;
}
.search-wrap input:focus { border-color: #0052CC; }
.search-wrap input::placeholder { color: #A5ADBA; }
.search-icon {
  position: absolute; left: 10px; top: 50%; transform: translateY(-50%);
  font-size: 14px; color: #A5ADBA; pointer-events: none;
}
.search-wrap input:disabled { background: #F4F5F7; cursor: not-allowed; }

/* ‚îÄ‚îÄ‚îÄ BUTTONS ‚îÄ‚îÄ‚îÄ */
.btn {
  height: 36px; padding: 0 14px; border-radius: 6px; border: none;
  font-size: 13px; font-weight: 500; cursor: pointer;
  display: inline-flex; align-items: center; gap: 6px;
  font-family: inherit; transition: all 0.15s; white-space: nowrap;
}
.btn-primary { background: #0052CC; color: #fff; }
.btn-primary:hover { background: #0747A6; }
.btn-primary:disabled { background: #DFE1E6; color: #A5ADBA; cursor: not-allowed; }
.btn-secondary {
  background: #fff; color: #172B4D; border: 1px solid #DFE1E6;
  font-weight: 400;
}
.btn-secondary:hover { background: #F4F5F7; }
.btn-secondary:disabled { color: #A5ADBA; cursor: not-allowed; background: #F4F5F7; }
.btn-outline {
  background: #fff; color: #172B4D; border: 1px solid #DFE1E6; font-weight: 400;
}
.btn-outline:hover { background: #F4F5F7; }

/* ‚îÄ‚îÄ‚îÄ TABLE ‚îÄ‚îÄ‚îÄ */
.table-container {
  border: 1px solid #DFE1E6; border-radius: 8px; overflow: hidden;
}
table { width: 100%; border-collapse: collapse; }
thead tr { background: #FAFBFC; border-bottom: 1px solid #DFE1E6; }
thead th {
  padding: 10px 14px; text-align: left; font-size: 11px;
  font-weight: 600; color: #6B778C; white-space: nowrap;
  user-select: none;
}
thead th .col-ticket {
  display: block; font-size: 9px; font-weight: 500; color: #A5ADBA;
  text-transform: uppercase; letter-spacing: 0.04em; margin-top: 1px;
}
thead th.center { text-align: center; }
thead th.right { text-align: right; }
tbody tr { border-bottom: 1px solid #F4F5F7; background: #fff; }
tbody tr:last-child { border-bottom: none; }
tbody tr:hover { background: #F8F9FA; }
tbody tr.row-hover { background: #F8F9FA; }
tbody td { padding: 12px 14px; font-size: 13px; color: #172B4D; vertical-align: middle; }
tbody td.center { text-align: center; }
tbody td.muted { color: #6B778C; }
.product-name { font-weight: 600; color: #172B4D; font-size: 13px; }
.product-sku { font-size: 11px; color: #A5ADBA; margin-top: 2px; font-family: monospace; }
.table-footer {
  padding: 10px 14px; background: #fff; border-top: 1px solid #F4F5F7;
  font-size: 12px; color: #6B778C;
}

/* ‚îÄ‚îÄ‚îÄ CHECKBOX ‚îÄ‚îÄ‚îÄ */
input[type=checkbox] {
  width: 15px; height: 15px; cursor: pointer; accent-color: #0052CC;
}

/* ‚îÄ‚îÄ‚îÄ CATEGORY BADGES ‚îÄ‚îÄ‚îÄ */
.cat-badge {
  display: inline-block; border-radius: 100px; padding: 3px 10px;
  font-size: 12px; font-weight: 500; white-space: nowrap;
}
.cat-waste-collection { background: #E0F7F4; color: #007B6E; }
.cat-containers { background: #EDE9FE; color: #5B21B6; }
.cat-extra { background: #FCE7F3; color: #9D174D; }
.cat-fees { background: #FEF3C7; color: #92400E; }
.cat-recycling { background: #DCFCE7; color: #166534; }
.cat-hazardous { background: #FEE2E2; color: #991B1B; }
.cat-organic { background: #FEF9C3; color: #854D0E; }
.cat-general { background: #F0F9FF; color: #075985; }

/* ‚îÄ‚îÄ‚îÄ STATUS TOGGLE ‚îÄ‚îÄ‚îÄ */
.toggle {
  width: 40px; height: 22px; border-radius: 11px; border: none;
  cursor: pointer; position: relative; transition: background 0.2s;
  flex-shrink: 0; display: inline-block;
}
.toggle::after {
  content: ''; position: absolute; top: 3px;
  width: 16px; height: 16px; border-radius: 50%; background: #fff;
  transition: left 0.2s; box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}
.toggle.on { background: #36B37E; }
.toggle.on::after { left: 21px; }
.toggle.off { background: #DFE1E6; }
.toggle.off::after { left: 3px; }

/* ‚îÄ‚îÄ‚îÄ ACTION BUTTONS ‚îÄ‚îÄ‚îÄ */
.action-btn {
  height: 28px; padding: 0 12px; border-radius: 4px;
  border: 1px solid #DFE1E6; background: #fff; font-size: 12px;
  font-weight: 500; color: #172B4D; cursor: pointer; font-family: inherit;
}
.action-btn:hover { background: #F4F5F7; color: #0052CC; border-color: #0052CC; }

/* ‚îÄ‚îÄ‚îÄ SCHEMA FIELDS BADGE ‚îÄ‚îÄ‚îÄ */
.fields-badge {
  background: #DEEBFF; color: #0052CC; font-size: 12px; font-weight: 600;
  border-radius: 100px; padding: 2px 10px; white-space: nowrap;
}

/* ‚îÄ‚îÄ‚îÄ EWC CODE ‚îÄ‚îÄ‚îÄ */
.ewc-code {
  font-family: "Courier New", monospace; font-size: 12px;
  background: #F4F5F7; border: 1px solid #DFE1E6; border-radius: 4px;
  padding: 1px 6px; color: #172B4D; white-space: nowrap;
}

/* ‚îÄ‚îÄ‚îÄ BANNERS ‚îÄ‚îÄ‚îÄ */
.banner {
  display: flex; align-items: flex-start; gap: 10px;
  padding: 10px 14px; border-radius: 6px; font-size: 13px; margin-bottom: 16px;
}
.banner-info { background: #DEEBFF; border-left: 3px solid #0052CC; color: #172B4D; }
.banner-warning { background: #FFFAE6; border-left: 3px solid #FF8B00; color: #974F0C; }

/* ‚îÄ‚îÄ‚îÄ UNIT CARDS ‚îÄ‚îÄ‚îÄ */
.card-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; }
.unit-card {
  background: #fff; border: 1px solid #DFE1E6; border-radius: 8px;
  padding: 18px; transition: box-shadow 0.15s, transform 0.15s;
}
.unit-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.10); transform: translateY(-1px); }
.unit-icon { font-size: 22px; margin-bottom: 10px; }
.unit-name { font-size: 16px; font-weight: 700; color: #172B4D; }
.unit-symbols { display: flex; gap: 6px; margin-top: 4px; }
.unit-sym {
  background: #F4F5F7; color: #6B778C; font-size: 11px; font-weight: 600;
  border-radius: 4px; padding: 2px 7px;
}
.unit-desc { font-size: 12px; color: #6B778C; margin-top: 6px; line-height: 1.5; }
.unit-eu-row {
  display: flex; justify-content: space-between; align-items: center;
  margin-top: 12px; padding-top: 10px; border-top: 1px solid #F4F5F7;
}
.unit-eu-label { font-size: 9px; font-weight: 700; text-transform: uppercase; color: #A5ADBA; letter-spacing: 0.08em; }
.unit-eu-val { font-family: monospace; font-size: 11px; font-weight: 600; color: #6B778C; }

/* ‚îÄ‚îÄ‚îÄ LOCK ICON ‚îÄ‚îÄ‚îÄ */
.lock-cell { text-align: center; color: #DFE1E6; font-size: 14px; }

/* ‚îÄ‚îÄ‚îÄ NOTE CARD ‚îÄ‚îÄ‚îÄ */
.note-card {
  background: #FAFBFC; border: 1px solid #DFE1E6; border-radius: 8px;
  padding: 14px 16px; margin-top: 14px;
  display: flex; gap: 10px; font-size: 13px; color: #6B778C; line-height: 1.6;
}

/* ‚îÄ‚îÄ‚îÄ EMPTY STATE ‚îÄ‚îÄ‚îÄ */
.empty-state {
  display: flex; flex-direction: column; align-items: center;
  padding: 80px 32px; text-align: center;
}
.empty-icon { font-size: 48px; margin-bottom: 20px; opacity: 0.3; }
.empty-title { font-size: 18px; font-weight: 600; color: #172B4D; }
.empty-body { font-size: 13px; color: #6B778C; max-width: 400px; line-height: 1.7; margin-top: 8px; }
.empty-pill {
  margin-top: 16px; background: #F4F5F7; color: #6B778C; font-size: 12px;
  font-weight: 500; border-radius: 100px; padding: 5px 14px; display: inline-block;
}

/* ‚îÄ‚îÄ‚îÄ PRODUCT DETAIL ‚îÄ‚îÄ‚îÄ */
.detail-header {
  border-bottom: 1px solid #DFE1E6; padding-bottom: 14px; margin-bottom: 0;
}
.back-link {
  font-size: 12px; color: #6B778C; cursor: pointer; display: inline-flex;
  align-items: center; gap: 4px; margin-bottom: 8px;
}
.back-link:hover { color: #0052CC; }
.detail-title-row { display: flex; align-items: center; justify-content: space-between; }
.detail-title { font-size: 20px; font-weight: 700; color: #172B4D; }
.detail-meta { font-size: 12px; color: #6B778C; margin-top: 4px; }
.detail-meta-sep { margin: 0 6px; }

.detail-tab-bar {
  display: flex; border-bottom: 2px solid #DFE1E6; padding: 0;
  margin-bottom: 20px; overflow-x: auto; gap: 0;
}
.detail-tab {
  padding: 10px 18px; font-size: 13px; cursor: pointer; color: #6B778C;
  border-bottom: 2px solid transparent; margin-bottom: -2px; white-space: nowrap;
  display: flex; align-items: center; gap: 5px; user-select: none;
}
.detail-tab.active { color: #0052CC; font-weight: 600; border-bottom-color: #0052CC; }
.detail-tab.locked { color: #A5ADBA; cursor: default; pointer-events: none; }
.detail-tab.sel-locked { color: #42526E; font-weight: 500; border-bottom-color: #DFE1E6; cursor: default; }
.tab-lock-icon { font-size: 10px; color: #C1C7D0; }

.overview-grid { display: grid; grid-template-columns: 60fr 40fr; gap: 16px; }
.info-card { background: #fff; border: 1px solid #DFE1E6; border-radius: 8px; padding: 18px; }
.info-card-title {
  font-size: 13px; font-weight: 600; color: #172B4D;
  border-bottom: 1px solid #F4F5F7; padding-bottom: 10px; margin-bottom: 14px;
}
.info-row {
  display: flex; align-items: center; padding: 8px 0;
  border-bottom: 1px solid #F4F5F7; gap: 12px;
}
.info-row:last-child { border-bottom: none; }
.info-label { width: 150px; flex-shrink: 0; font-size: 11px; font-weight: 600; color: #6B778C; text-transform: uppercase; letter-spacing: 0.04em; }
.info-value { font-size: 13px; color: #172B4D; display: flex; align-items: center; gap: 8px; }
.info-placeholder { font-size: 13px; color: #A5ADBA; font-style: italic; }

.status-badge { background: #DCFCE7; color: #166534; border-radius: 100px; padding: 2px 10px; font-size: 12px; font-weight: 600; }

/* ‚îÄ‚îÄ‚îÄ LOCKED TAB CONTENT ‚îÄ‚îÄ‚îÄ */
.locked-empty {
  display: flex; flex-direction: column; align-items: center;
  padding: 60px 32px; text-align: center;
}
.locked-icon { width: 52px; height: 52px; background: #F4F5F7; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; }
.locked-title { font-size: 15px; font-weight: 600; color: #172B4D; margin-top: 16px; }
.locked-body { font-size: 13px; color: #6B778C; max-width: 340px; line-height: 1.6; margin-top: 6px; }
.locked-pill { background: #F4F5F7; color: #6B778C; font-size: 11px; font-weight: 500; border-radius: 100px; padding: 4px 12px; margin-top: 14px; display: inline-block; }

/* ‚îÄ‚îÄ‚îÄ SKELETON ‚îÄ‚îÄ‚îÄ */
@keyframes shimmer {
  0% { background-position: -500px 0; }
  100% { background-position: 500px 0; }
}
.skel {
  display: inline-block; border-radius: 4px; height: 13px;
  background: linear-gradient(90deg, #F4F5F7 25%, #EBEBEB 50%, #F4F5F7 75%);
  background-size: 500px 100%; animation: shimmer 1.4s infinite linear;
  vertical-align: middle;
}

/* ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ */
.modal-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(23,43,77,0.45); z-index: 500;
  align-items: flex-start; justify-content: center; padding-top: 60px;
}
.modal-overlay.open { display: flex; }
.modal {
  background: #fff; border-radius: 10px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.18), 0 2px 8px rgba(0,0,0,0.08);
  width: 600px; max-height: calc(100vh - 100px); overflow-y: auto;
  display: flex; flex-direction: column;
}
.modal-sm { width: 520px; }
.modal-header {
  height: 54px; padding: 0 22px; border-bottom: 1px solid #DFE1E6;
  display: flex; align-items: center; justify-content: space-between; flex-shrink: 0;
}
.modal-title { font-size: 16px; font-weight: 600; color: #172B4D; }
.modal-close {
  width: 30px; height: 30px; border: none; background: none; cursor: pointer;
  border-radius: 4px; font-size: 16px; color: #6B778C;
  display: flex; align-items: center; justify-content: center;
}
.modal-close:hover { background: #F4F5F7; color: #172B4D; }
.modal-body { padding: 22px; display: flex; flex-direction: column; gap: 16px; }
.modal-footer {
  height: 60px; padding: 0 22px; border-top: 1px solid #DFE1E6;
  display: flex; align-items: center; justify-content: flex-end; gap: 8px; flex-shrink: 0;
}
.modal-divider { height: 1px; background: #DFE1E6; margin: 4px 0; }

/* ‚îÄ‚îÄ‚îÄ FIELD GROUPS ‚îÄ‚îÄ‚îÄ */
.field-group { display: flex; flex-direction: column; gap: 5px; }
.field-label { font-size: 11px; font-weight: 600; color: #172B4D; text-transform: uppercase; letter-spacing: 0.04em; }
.field-req { color: #DE350B; margin-left: 2px; }
.field-hint { font-size: 11px; color: #6B778C; }
.field-error { font-size: 11px; color: #DE350B; display: flex; align-items: center; gap: 4px; }
.f-input {
  height: 34px; padding: 0 10px; border: 1px solid #DFE1E6; border-radius: 6px;
  font-size: 13px; color: #172B4D; font-family: inherit; outline: none; width: 100%;
}
.f-input:focus { border-color: #0052CC; }
.f-input.valid { border-color: #36B37E; padding-right: 28px; }
.f-input.error { border: 2px solid #DE350B; }
.f-input:disabled { background: #F4F5F7; color: #A5ADBA; cursor: not-allowed; }
.f-textarea {
  min-height: 72px; padding: 8px 10px; border: 1px solid #DFE1E6;
  border-radius: 6px; font-size: 13px; font-family: inherit; resize: vertical;
  width: 100%; outline: none;
}
.f-textarea:focus { border-color: #0052CC; }
.f-select {
  height: 34px; padding: 0 28px 0 10px; border: 1px solid #DFE1E6;
  border-radius: 6px; font-size: 13px; font-family: inherit; background: #fff;
  appearance: none; cursor: pointer; outline: none; width: 100%;
}
.f-select:focus { border-color: #0052CC; }
.select-wrap { position: relative; }
.select-wrap::after {
  content: "‚ñæ"; position: absolute; right: 10px; top: 50%;
  transform: translateY(-50%); color: #6B778C; pointer-events: none; font-size: 11px;
}
.input-icon-wrap { position: relative; }
.input-icon-wrap .f-input { padding-right: 28px; }
.valid-icon { position: absolute; right: 9px; top: 50%; transform: translateY(-50%); color: #36B37E; font-size: 13px; }
.error-icon { position: absolute; right: 9px; top: 50%; transform: translateY(-50%); color: #DE350B; font-size: 13px; }

/* ‚îÄ‚îÄ‚îÄ SCHEMA TABLE ‚îÄ‚îÄ‚îÄ */
.schema-wrap { border: 1px solid #DFE1E6; border-radius: 6px; overflow: hidden; }
.schema-head {
  display: grid; grid-template-columns: 20px 1fr 130px 70px 28px;
  gap: 8px; padding: 6px 10px; background: #FAFBFC;
  border-bottom: 1px solid #DFE1E6;
  font-size: 10px; font-weight: 600; color: #6B778C; text-transform: uppercase; letter-spacing: 0.06em;
}
.schema-row {
  display: grid; grid-template-columns: 20px 1fr 130px 70px 28px;
  gap: 8px; padding: 6px 10px; align-items: center;
  border-bottom: 1px solid #F4F5F7;
}
.schema-row:last-child { border-bottom: none; }
.drag-h { color: #C1C7D0; cursor: grab; font-size: 14px; user-select: none; }
.schema-del {
  width: 26px; height: 26px; border: none; background: none; cursor: pointer;
  border-radius: 4px; color: #A5ADBA; font-size: 13px;
  display: flex; align-items: center; justify-content: center;
}
.schema-del:hover { background: #FFEBE6; color: #DE350B; }
.add-field {
  background: none; border: none; color: #0052CC; font-size: 13px;
  cursor: pointer; padding: 8px 10px; font-family: inherit;
  display: flex; align-items: center; gap: 5px;
}
.add-field:hover { color: #0747A6; }
.s-toggle {
  width: 32px; height: 18px; border-radius: 9px; border: none;
  cursor: pointer; position: relative; transition: background 0.2s;
}
.s-toggle::after {
  content: ''; position: absolute; top: 2px;
  width: 14px; height: 14px; border-radius: 50%; background: #fff;
  transition: left 0.2s; box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}
.s-toggle.on { background: #36B37E; }
.s-toggle.on::after { left: 16px; }
.s-toggle.off { background: #DFE1E6; }
.s-toggle.off::after { left: 2px; }

/* ‚îÄ‚îÄ‚îÄ TOGGLE ROW ‚îÄ‚îÄ‚îÄ */
.toggle-row { display: flex; align-items: center; gap: 10px; }

/* ‚îÄ‚îÄ‚îÄ SUB SCREEN BAR ‚îÄ‚îÄ‚îÄ */
.sub-bar {
  display: flex; gap: 6px; margin-bottom: 14px;
}
.sub-btn {
  height: 26px; padding: 0 11px; border-radius: 4px;
  border: 1px solid #DFE1E6; background: #fff;
  font-size: 11px; font-weight: 500; color: #6B778C; cursor: pointer; font-family: inherit;
}
.sub-btn.active { background: #DEEBFF; color: #0052CC; border-color: #0052CC; }
.sub-btn:hover:not(.active) { background: #F4F5F7; }

/* ‚îÄ‚îÄ‚îÄ TOOLTIP ‚îÄ‚îÄ‚îÄ */
[data-tip] { position: relative; }
[data-tip]:hover::after {
  content: attr(data-tip); position: absolute; bottom: 110%; left: 50%;
  transform: translateX(-50%); background: #172B4D; color: #fff;
  font-size: 11px; padding: 4px 8px; border-radius: 4px; white-space: nowrap;
  z-index: 999; pointer-events: none;
}
</style>
</head>
<body>

<!-- TOP ACCENT BAR -->
<div class="accent-bar"></div>

<!-- PAGE HEADER -->
<div class="page-header">
  <div class="page-title">Product Management ‚Äî WasteHero 2.0</div>
  <div class="header-user">
    <div class="avatar">AJ</div>
    <span class="user-name">Alex Jensen</span>
  </div>
</div>

<!-- HORIZONTAL TAB NAVIGATION -->
<nav class="tab-nav">
  <div class="tab-nav-item" id="tabnav-products" onclick="switchTab('products')">
    Products <span class="tab-badge">PD-41</span>
  </div>
  <div class="tab-nav-item active" id="tabnav-categories" onclick="switchTab('categories')">
    Product Categories <span class="tab-badge">PD-39</span>
  </div>
  <div class="tab-nav-item" id="tabnav-fractions" onclick="switchTab('fractions')">
    Waste Fractions <span class="tab-badge">PD-39</span>
  </div>
  <div class="tab-nav-item" id="tabnav-units" onclick="switchTab('units')">
    Pricing Units <span class="tab-badge">PD-326</span>
  </div>
  <div class="tab-nav-item" id="tabnav-zones" onclick="switchTab('zones')">
    Zones <span class="tab-badge">PD-325</span>
  </div>
  <div class="tab-nav-item disabled">
    Price Lists <span class="tab-badge">PD-330</span>
  </div>
  <div class="tab-nav-item disabled">
    üìã PD Overview
  </div>
</nav>

<!-- BODY: FILTER PANEL + MAIN CONTENT -->
<div class="body-layout">

  <!-- LEFT FILTER PANEL -->
  <div class="filter-panel" id="filter-panel">
    <!-- populated per tab via JS -->
  </div>

  <!-- MAIN SCROLLABLE CONTENT -->
  <div class="main">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         PRODUCT CATEGORIES (S1-A)
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen active" id="screen-categories">
      <div class="sub-bar">
        <button class="sub-btn active" onclick="showSub('categories','list',this)">List View</button>
        <button class="sub-btn" onclick="showSub('categories','skeleton',this)">Loading State</button>
      </div>

      <!-- LIST -->
      <div id="cat-list">
        <div class="toolbar">
          <div class="toolbar-left">
            <div class="search-wrap">
              <span class="search-icon">üîç</span>
              <input placeholder="Search categories‚Ä¶ (PD-39)" />
            </div>
          </div>
          <div class="toolbar-right">
            <button class="btn btn-secondary">‚öô Filters</button>
            <button class="btn btn-primary" onclick="openModal('m-new-category')">+ New Category</button>
          </div>
        </div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th style="width:36px"><input type="checkbox" /></th>
                <th>Name <span class="col-ticket">PD-39</span></th>
                <th>Description</th>
                <th class="center" style="width:140px">Schema Fields <span class="col-ticket">PD-39</span></th>
                <th class="center" style="width:110px">Products <span class="col-ticket">PD-41</span></th>
                <th style="width:120px">Created</th>
                <th style="width:110px" class="right">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input type="checkbox" /></td>
                <td><div class="product-name">Waste Collection Services</div></td>
                <td class="muted">Recurring waste pickup and transport services</td>
                <td class="center"><span class="fields-badge">4 fields</span></td>
                <td class="center">12</td>
                <td class="muted">2 Mar 2026</td>
                <td class="right">
                  <button class="action-btn" onclick="openModal('m-edit-category')">Edit</button>
                </td>
              </tr>
              <tr>
                <td><input type="checkbox" /></td>
                <td><div class="product-name">Container Rental</div></td>
                <td class="muted">Fixed or time-based container hire</td>
                <td class="center"><span class="fields-badge">3 fields</span></td>
                <td class="center">8</td>
                <td class="muted">2 Mar 2026</td>
                <td class="right"><button class="action-btn" onclick="openModal('m-edit-category')">Edit</button></td>
              </tr>
              <tr class="row-hover">
                <td><input type="checkbox" /></td>
                <td><div class="product-name">Hazardous Waste</div></td>
                <td class="muted">Requires special handling and compliance documentation</td>
                <td class="center"><span class="fields-badge">6 fields</span></td>
                <td class="center">5</td>
                <td class="muted">3 Mar 2026</td>
                <td class="right"><button class="action-btn" onclick="openModal('m-edit-category')">Edit</button></td>
              </tr>
              <tr>
                <td><input type="checkbox" /></td>
                <td><div class="product-name">Recycling Services</div></td>
                <td class="muted">Sorting, processing and recycling of materials</td>
                <td class="center"><span class="fields-badge">3 fields</span></td>
                <td class="center">9</td>
                <td class="muted">3 Mar 2026</td>
                <td class="right"><button class="action-btn" onclick="openModal('m-edit-category')">Edit</button></td>
              </tr>
            </tbody>
          </table>
          <div class="table-footer">Showing 4 of 4 categories</div>
        </div>
      </div>

      <!-- SKELETON -->
      <div id="cat-skeleton" style="display:none">
        <div class="toolbar">
          <div class="search-wrap"><span class="search-icon">üîç</span><input placeholder="Search categories‚Ä¶" disabled /></div>
          <button class="btn btn-primary" disabled>+ New Category</button>
        </div>
        <div class="table-container">
          <table>
            <thead><tr>
              <th style="width:36px"></th><th>Name</th><th>Description</th>
              <th class="center" style="width:140px">Schema Fields</th>
              <th class="center" style="width:110px">Products</th>
              <th style="width:120px">Created</th><th style="width:110px"></th>
            </tr></thead>
            <tbody>
              <tr><td></td><td><span class="skel" style="width:150px"></span></td><td><span class="skel" style="width:75%"></span></td><td class="center"><span class="skel" style="width:55px"></span></td><td class="center"><span class="skel" style="width:25px"></span></td><td><span class="skel" style="width:75px"></span></td><td></td></tr>
              <tr><td></td><td><span class="skel" style="width:120px"></span></td><td><span class="skel" style="width:60%"></span></td><td class="center"><span class="skel" style="width:55px"></span></td><td class="center"><span class="skel" style="width:25px"></span></td><td><span class="skel" style="width:75px"></span></td><td></td></tr>
              <tr><td></td><td><span class="skel" style="width:170px"></span></td><td><span class="skel" style="width:68%"></span></td><td class="center"><span class="skel" style="width:55px"></span></td><td class="center"><span class="skel" style="width:25px"></span></td><td><span class="skel" style="width:75px"></span></td><td></td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         WASTE FRACTIONS (S1-D)
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen" id="screen-fractions">
      <div class="toolbar">
        <div class="search-wrap">
          <span class="search-icon">üîç</span>
          <input placeholder="Search waste fractions‚Ä¶ (PD-39)" />
        </div>
        <div class="toolbar-right">
          <button class="btn btn-secondary">‚öô Filters</button>
          <button class="btn btn-primary" onclick="openModal('m-new-fraction')">+ New Waste Fraction</button>
        </div>
      </div>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th style="width:36px"><input type="checkbox" /></th>
              <th style="width:200px">Name <span class="col-ticket">PD-39</span></th>
              <th style="width:120px">EWC Code <span class="col-ticket">PD-39</span></th>
              <th style="width:140px">Category</th>
              <th>Description</th>
              <th class="center" style="width:100px">Status <span class="col-ticket">PD-39</span></th>
              <th style="width:90px" class="right">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Mixed Municipal Waste</div></td>
              <td><span class="ewc-code">20 03 01</span></td>
              <td><span class="cat-badge cat-general">General Waste</span></td>
              <td class="muted">Unsorted household and commercial waste</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn">Edit</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Paper &amp; Cardboard</div></td>
              <td><span class="ewc-code">20 01 01</span></td>
              <td><span class="cat-badge cat-recycling">Recycling</span></td>
              <td class="muted">Paper and cardboard for recycling</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn">Edit</button></td>
            </tr>
            <tr class="row-hover">
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Glass</div></td>
              <td><span class="ewc-code">20 01 02</span></td>
              <td><span class="cat-badge cat-recycling">Recycling</span></td>
              <td class="muted">Glass bottles, jars and containers</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn">Edit</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Organic Waste</div></td>
              <td><span class="ewc-code">20 01 08</span></td>
              <td><span class="cat-badge cat-organic">Organic</span></td>
              <td class="muted">Kitchen scraps and garden waste</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn">Edit</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Hazardous Household</div></td>
              <td><span class="ewc-code">20 01 35</span></td>
              <td><span class="cat-badge cat-hazardous">Hazardous</span></td>
              <td class="muted">Electronic waste and chemical household items</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn">Edit</button></td>
            </tr>
          </tbody>
        </table>
        <div class="table-footer">Showing 5 of 5 waste fractions</div>
      </div>
      <div class="banner banner-info" style="margin-top:14px">
        <span>‚ÑπÔ∏è</span>
        <span>EWC code validation checks for valid 6-digit format (XX XX XX, e.g. 20 03 01). Full EU waste registry validation will be added in Sprint 2.</span>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         PRICING UNITS (S1-F)
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen" id="screen-units">
      <div class="banner banner-info" style="margin-bottom:18px">
        <span>‚ÑπÔ∏è</span>
        <span>These unit types are system-defined and cannot be modified. Unit conversions (e.g. kg ‚Üî ton) and EU e-invoicing compliance metadata will be configurable from Sprint 2.</span>
      </div>
      <div class="card-grid">
        <div class="unit-card">
          <div class="unit-icon">üì¶</div>
          <div class="unit-name">‚Ç¨ / piece</div>
          <div class="unit-symbols"><span class="unit-sym">pc</span></div>
          <div class="unit-desc">Per collection event or per service unit</div>
          <div class="unit-eu-row"><span class="unit-eu-label">EU Invoice Code</span><span class="unit-eu-val">C62</span></div>
        </div>
        <div class="unit-card">
          <div class="unit-icon">‚öñÔ∏è</div>
          <div class="unit-name">‚Ç¨ / kg ¬∑ ton</div>
          <div class="unit-symbols"><span class="unit-sym">kg</span><span class="unit-sym">TNE</span></div>
          <div class="unit-desc">Weight-based pricing for waste by mass</div>
          <div class="unit-eu-row"><span class="unit-eu-label">EU Invoice Code</span><span class="unit-eu-val">KGM ¬∑ TNE</span></div>
        </div>
        <div class="unit-card">
          <div class="unit-icon">üìê</div>
          <div class="unit-name">‚Ç¨ / m¬≥</div>
          <div class="unit-symbols"><span class="unit-sym">m¬≥</span></div>
          <div class="unit-desc">Volume-based pricing for containers</div>
          <div class="unit-eu-row"><span class="unit-eu-label">EU Invoice Code</span><span class="unit-eu-val">MTQ</span></div>
        </div>
        <div class="unit-card">
          <div class="unit-icon">üíß</div>
          <div class="unit-name">‚Ç¨ / liter</div>
          <div class="unit-symbols"><span class="unit-sym">L</span></div>
          <div class="unit-desc">Liquid and semi-liquid waste streams</div>
          <div class="unit-eu-row"><span class="unit-eu-label">EU Invoice Code</span><span class="unit-eu-val">LTR</span></div>
        </div>
        <div class="unit-card">
          <div class="unit-icon">üìè</div>
          <div class="unit-name">‚Ç¨ / meter</div>
          <div class="unit-symbols"><span class="unit-sym">m</span></div>
          <div class="unit-desc">Distance-based transport or cable services</div>
          <div class="unit-eu-row"><span class="unit-eu-label">EU Invoice Code</span><span class="unit-eu-val">MTR</span></div>
        </div>
        <div class="unit-card">
          <div class="unit-icon">üïê</div>
          <div class="unit-name">‚Ç¨ / hour</div>
          <div class="unit-symbols"><span class="unit-sym">h</span></div>
          <div class="unit-desc">Time-based services such as audits or inspections</div>
          <div class="unit-eu-row"><span class="unit-eu-label">EU Invoice Code</span><span class="unit-eu-val">HUR</span></div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         ZONES (S1-G)
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen" id="screen-zones">
      <div class="banner banner-warning">
        <span>‚ö†Ô∏è</span>
        <span>Zone management is view-only in Release 1. Interactive map-based zone drawing will be available in Release 2 (Sprint 3, March 30).</span>
      </div>
      <div class="toolbar">
        <div class="search-wrap">
          <span class="search-icon">üîç</span>
          <input placeholder="Search zones‚Ä¶" disabled />
        </div>
        <button class="btn btn-primary" disabled data-tip="Map-based zone creation available from Release 2">+ New Zone</button>
      </div>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th style="width:180px">Zone Name <span class="col-ticket">PD-325</span></th>
              <th style="width:120px">Type</th>
              <th>Description</th>
              <th class="center" style="width:130px">Products</th>
              <th class="center" style="width:100px">Status <span class="col-ticket">PD-325</span></th>
              <th class="center" style="width:50px">üîí</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><div class="product-name">Urban</div></td>
              <td><span class="cat-badge cat-general">Urban</span></td>
              <td class="muted">High-density city districts and commercial town centres</td>
              <td class="center muted">8 products</td>
              <td class="center"><button class="toggle on"></button></td>
              <td class="lock-cell">üîí</td>
            </tr>
            <tr>
              <td><div class="product-name">Suburban</div></td>
              <td><span class="cat-badge cat-waste-collection">Suburban</span></td>
              <td class="muted">Residential outskirts, commuter towns and semi-urban areas</td>
              <td class="center muted">5 products</td>
              <td class="center"><button class="toggle on"></button></td>
              <td class="lock-cell">üîí</td>
            </tr>
            <tr>
              <td><div class="product-name">Rural</div></td>
              <td><span class="cat-badge cat-organic">Rural</span></td>
              <td class="muted">Low-density countryside, remote areas and agricultural zones</td>
              <td class="center muted">3 products</td>
              <td class="center"><button class="toggle on"></button></td>
              <td class="lock-cell">üîí</td>
            </tr>
          </tbody>
        </table>
        <div class="table-footer">3 zones ‚Äî system-defined. Custom zone drawing available from Release 2.</div>
      </div>
      <div class="note-card">
        <span>‚ÑπÔ∏è</span>
        <span>In Release 2, zones will be drawn as polygons on an interactive map. Given a property's GPS coordinates, the system will automatically determine which zone it falls in and apply the correct pricing rules.</span>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         PRODUCTS (S1-H)
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen" id="screen-products">
      <div class="toolbar">
        <div class="toolbar-left">
          <div class="search-wrap"><span class="search-icon">üîç</span><input placeholder="Search products‚Ä¶ (PD-41)" /></div>
          <button class="btn btn-secondary">‚öô Filters</button>
        </div>
        <div class="toolbar-right">
          <button class="btn btn-outline" disabled>üì• Import (PD-39)</button>
          <button class="btn btn-outline" disabled>üì§ Export (PD-39)</button>
          <button class="btn btn-primary" onclick="openModal('m-product-coming')">+ New Product</button>
        </div>
      </div>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th style="width:36px"><input type="checkbox" /></th>
              <th>Product Name <span class="col-ticket">PD-41</span></th>
              <th style="width:200px">Category <span class="col-ticket">PD-41</span></th>
              <th style="width:160px">Type <span class="col-ticket">PD-39</span></th>
              <th class="center" style="width:90px">Status <span class="col-ticket">PD-41</span></th>
              <th class="center" style="width:110px">Price Lists <span class="col-ticket">PD-330</span></th>
              <th class="center" style="width:110px">Components <span class="col-ticket">PD-40</span></th>
              <th class="center" style="width:90px">Portal <span class="col-ticket">PD-41</span></th>
              <th style="width:90px" class="right">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Mixed Waste Collection</div><div class="product-sku">SVC-MIXED-001</div></td>
              <td><span class="cat-badge cat-waste-collection">Waste Collection Services</span></td>
              <td class="muted">Service Product</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="center muted">6 lists</td>
              <td class="center muted">2 items</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn" onclick="switchToDetail()">View</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Bio-waste Collection</div><div class="product-sku">SVC-BIO-001</div></td>
              <td><span class="cat-badge cat-waste-collection">Waste Collection Services</span></td>
              <td class="muted">Service Product</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="center muted">5 lists</td>
              <td class="center muted">2 items</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn" onclick="switchToDetail()">View</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Sludge Collection</div><div class="product-sku">SVC-SLUDGE-001</div></td>
              <td><span class="cat-badge cat-waste-collection">Waste Collection Services</span></td>
              <td class="muted">Service Product</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="center muted">4 lists</td>
              <td class="center muted">1 item</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn" onclick="switchToDetail()">View</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">240L Container</div><div class="product-sku">BIN-240L-001</div></td>
              <td><span class="cat-badge cat-containers">Waste Containers &amp; Bins</span></td>
              <td class="muted">Container Product</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="center muted">3 lists</td>
              <td class="center muted">0 items</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn" onclick="switchToDetail()">View</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Extra Wash</div><div class="product-sku">SVC-WASH-001</div></td>
              <td><span class="cat-badge cat-extra">Extra Services</span></td>
              <td class="muted">Additional Service</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="center muted">2 lists</td>
              <td class="center muted">0 items</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn" onclick="switchToDetail()">View</button></td>
            </tr>
            <tr>
              <td><input type="checkbox" /></td>
              <td><div class="product-name">Container Delivery</div><div class="product-sku">FEE-DELIVERY-001</div></td>
              <td><span class="cat-badge cat-fees">Setup &amp; Delivery Fees</span></td>
              <td class="muted">One-off Fee</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="center muted">1 list</td>
              <td class="center muted">0 items</td>
              <td class="center"><button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button></td>
              <td class="right"><button class="action-btn" onclick="switchToDetail()">View</button></td>
            </tr>
          </tbody>
        </table>
        <div class="table-footer">Showing 6 of 8 products</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         PRODUCT DETAIL (S1-I)
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen" id="screen-detail">
      <div class="sub-bar">
        <button class="sub-btn active" onclick="showSub('detail','overview',this)">Overview tab</button>
        <button class="sub-btn" onclick="showSub('detail','config',this)">Configuration tab (locked)</button>
      </div>

      <!-- OVERVIEW -->
      <div id="det-overview">
        <div class="detail-header">
          <div class="back-link" onclick="switchTab('products')">‚Üê Products</div>
          <div class="detail-title-row">
            <div class="detail-title">Mixed Waste Collection</div>
            <div style="display:flex;align-items:center;gap:10px">
              <span class="status-badge">Active</span>
              <button class="btn btn-secondary">Edit</button>
            </div>
          </div>
          <div class="detail-meta">
            Waste Collection Services
            <span class="detail-meta-sep">¬∑</span>
            Mixed Municipal Waste (20 03 01)
            <span class="detail-meta-sep">¬∑</span>
            SVC-MIXED-001
          </div>
        </div>
        <div class="detail-tab-bar" style="margin-top:0">
          <div class="detail-tab active">Overview</div>
          <div class="detail-tab locked">Bill of Materials <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Configuration <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Service Responsibility <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Additional Services <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Service Levels <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Price Components <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Wastewater <span class="tab-lock-icon">üîí</span></div>
        </div>
        <div class="overview-grid">
          <div class="info-card">
            <div class="info-card-title">Basic Information</div>
            <div class="info-row"><span class="info-label">Category</span><span class="info-value">Waste Collection Services</span></div>
            <div class="info-row"><span class="info-label">Waste Fraction</span><span class="info-value">Mixed Municipal Waste <span class="ewc-code">20 03 01</span></span></div>
            <div class="info-row"><span class="info-label">Pricing Unit</span><span class="info-value">‚Ç¨/ton (TNE)</span></div>
            <div class="info-row"><span class="info-label">Status</span><span class="info-value"><span class="status-badge">Active</span></span></div>
            <div class="info-row"><span class="info-label">Created</span><span class="info-value">2 March 2026</span></div>
            <div class="info-row"><span class="info-label">Last Updated</span><span class="info-value">2 March 2026</span></div>
          </div>
          <div class="info-card">
            <div class="info-card-title">Zones &amp; Pricing</div>
            <div class="info-row"><span class="info-label">Primary Zone</span><span class="info-placeholder">‚Äî not assigned</span></div>
            <div class="info-row"><span class="info-label">Pricing Mode</span><span class="info-placeholder">‚Äî not configured</span></div>
            <div style="margin-top:14px;padding-top:14px;border-top:1px solid #F4F5F7;display:flex;gap:8px;align-items:flex-start">
              <span style="color:#A5ADBA;font-size:13px">‚ÑπÔ∏è</span>
              <span style="font-size:12px;color:#6B778C;font-style:italic">Pricing configuration available from Sprint 2.</span>
            </div>
          </div>
        </div>
      </div>

      <!-- CONFIG (LOCKED) -->
      <div id="det-config" style="display:none">
        <div class="detail-header">
          <div class="back-link" onclick="switchTab('products')">‚Üê Products</div>
          <div class="detail-title-row">
            <div class="detail-title">Mixed Waste Collection</div>
            <div style="display:flex;align-items:center;gap:10px">
              <span class="status-badge">Active</span>
              <button class="btn btn-secondary">Edit</button>
            </div>
          </div>
          <div class="detail-meta">Waste Collection Services ¬∑ Mixed Municipal Waste (20 03 01) ¬∑ SVC-MIXED-001</div>
        </div>
        <div class="detail-tab-bar" style="margin-top:0">
          <div class="detail-tab" onclick="showSub('detail','overview',null)">Overview</div>
          <div class="detail-tab locked">Bill of Materials <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab sel-locked">Configuration <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Service Responsibility <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Additional Services <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Service Levels <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Price Components <span class="tab-lock-icon">üîí</span></div>
          <div class="detail-tab locked">Wastewater <span class="tab-lock-icon">üîí</span></div>
        </div>
        <div class="locked-empty">
          <div class="locked-icon">üîí</div>
          <div class="locked-title">Configuration</div>
          <p class="locked-body">Category-specific product fields will appear here when Products CRUD is completed in Sprint 3 (Release 2, March 30, 2026).</p>
          <span class="locked-pill">Sprint 3 ¬∑ Release 2</span>
        </div>
      </div>
    </div>

  </div><!-- /main -->
</div><!-- /body-layout -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MODALS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- NEW CATEGORY -->
<div class="modal-overlay" id="m-new-category">
  <div class="modal">
    <div class="modal-header">
      <span class="modal-title">New Product Category</span>
      <button class="modal-close" onclick="closeModal('m-new-category')">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="field-group">
        <label class="field-label">Name <span class="field-req">*</span></label>
        <input class="f-input" value="Hazardous Waste" placeholder="e.g. Waste Collection Services" />
      </div>
      <div class="field-group">
        <label class="field-label">Description</label>
        <textarea class="f-textarea">Products requiring special handling, regulated disposal, and compliance documentation.</textarea>
      </div>
      <div class="modal-divider"></div>
      <div>
        <div style="font-size:14px;font-weight:600;color:#172B4D;margin-bottom:4px">Schema Fields</div>
        <div style="font-size:12px;color:#6B778C;margin-bottom:10px">These fields appear on every product form in this category.</div>
        <div class="schema-wrap">
          <div class="schema-head"><span></span><span>Field Name</span><span>Type</span><span>Required</span><span></span></div>
          <div class="schema-row">
            <span class="drag-h">‚†ø</span>
            <input class="f-input" value="container_size" style="height:30px;font-size:12px" />
            <div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option selected>Number</option><option>Text</option><option>Select</option><option>Date</option><option>Boolean</option></select></div>
            <button class="s-toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button>
            <button class="schema-del">‚úï</button>
          </div>
          <div class="schema-row">
            <span class="drag-h">‚†ø</span>
            <input class="f-input" value="waste_type" style="height:30px;font-size:12px" />
            <div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option>Number</option><option>Text</option><option selected>Select</option><option>Date</option><option>Boolean</option></select></div>
            <button class="s-toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button>
            <button class="schema-del">‚úï</button>
          </div>
          <div class="schema-row">
            <span class="drag-h">‚†ø</span>
            <input class="f-input" value="weight_limit_kg" style="height:30px;font-size:12px;border-color:#0052CC" />
            <div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option selected>Number</option><option>Text</option><option>Select</option><option>Date</option><option>Boolean</option></select></div>
            <button class="s-toggle off" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button>
            <button class="schema-del">‚úï</button>
          </div>
          <div class="schema-row">
            <span class="drag-h">‚†ø</span>
            <input class="f-input" value="custom_field_" style="height:30px;font-size:12px" />
            <div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option>Number</option><option selected>Text</option><option>Select</option><option>Date</option><option>Boolean</option></select></div>
            <button class="s-toggle off" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button>
            <button class="schema-del">‚úï</button>
          </div>
        </div>
        <button class="add-field">+ Add Field</button>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('m-new-category')">Cancel</button>
      <button class="btn btn-primary">Save Category</button>
    </div>
  </div>
</div>

<!-- EDIT CATEGORY -->
<div class="modal-overlay" id="m-edit-category">
  <div class="modal">
    <div class="modal-header">
      <span class="modal-title">Edit Category ‚Äî Waste Collection Services</span>
      <button class="modal-close" onclick="closeModal('m-edit-category')">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="field-group">
        <label class="field-label">Name <span class="field-req">*</span></label>
        <input class="f-input" value="Waste Collection Services" />
      </div>
      <div class="field-group">
        <label class="field-label">Description</label>
        <textarea class="f-textarea">Recurring waste pickup and transport services for residential and commercial clients.</textarea>
      </div>
      <div class="modal-divider"></div>
      <div>
        <div style="font-size:14px;font-weight:600;color:#172B4D;margin-bottom:4px">Schema Fields</div>
        <div style="font-size:12px;color:#6B778C;margin-bottom:10px">These fields appear on every product form in this category.</div>
        <div class="schema-wrap">
          <div class="schema-head"><span></span><span>Field Name</span><span>Type</span><span>Required</span><span></span></div>
          <div class="schema-row"><span class="drag-h">‚†ø</span><input class="f-input" value="container_size" style="height:30px;font-size:12px" /><div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option selected>Number</option><option>Text</option><option>Select</option><option>Date</option><option>Boolean</option></select></div><button class="s-toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button><button class="schema-del">‚úï</button></div>
          <div class="schema-row"><span class="drag-h">‚†ø</span><input class="f-input" value="waste_type" style="height:30px;font-size:12px" /><div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option>Number</option><option>Text</option><option selected>Select</option><option>Date</option><option>Boolean</option></select></div><button class="s-toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button><button class="schema-del">‚úï</button></div>
          <div class="schema-row"><span class="drag-h">‚†ø</span><input class="f-input" value="frequency_per_week" style="height:30px;font-size:12px" /><div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option selected>Number</option><option>Text</option><option>Select</option><option>Date</option><option>Boolean</option></select></div><button class="s-toggle off" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button><button class="schema-del">‚úï</button></div>
          <div class="schema-row"><span class="drag-h">‚†ø</span><input class="f-input" value="access_instructions" style="height:30px;font-size:12px" /><div class="select-wrap"><select class="f-select" style="height:30px;font-size:12px"><option>Number</option><option selected>Text</option><option>Select</option><option>Date</option><option>Boolean</option></select></div><button class="s-toggle off" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button><button class="schema-del">‚úï</button></div>
        </div>
        <button class="add-field">+ Add Field</button>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('m-edit-category')">Cancel</button>
      <button class="btn btn-primary">Save Changes</button>
    </div>
  </div>
</div>

<!-- NEW WASTE FRACTION -->
<div class="modal-overlay" id="m-new-fraction">
  <div class="modal modal-sm">
    <div class="modal-header">
      <span class="modal-title">New Waste Fraction</span>
      <button class="modal-close" onclick="closeModal('m-new-fraction')">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="field-group">
        <label class="field-label">Name <span class="field-req">*</span></label>
        <input class="f-input" value="Mixed Municipal Waste" />
      </div>
      <div class="field-group">
        <label class="field-label">EWC Code <span class="field-req">*</span></label>
        <div class="input-icon-wrap">
          <input class="f-input valid" value="20 03 01" />
          <span class="valid-icon">‚úì</span>
        </div>
        <span class="field-hint">Format: two-digit pairs separated by spaces ‚Äî e.g. 20 03 01</span>
      </div>
      <div style="background:#FAFBFC;border:1px dashed #DFE1E6;border-radius:6px;padding:12px">
        <div style="font-size:10px;font-weight:600;text-transform:uppercase;color:#A5ADBA;margin-bottom:8px;letter-spacing:0.06em">‚Ü≥ Invalid state example</div>
        <div class="field-group">
          <label class="field-label">EWC Code <span class="field-req">*</span></label>
          <div class="input-icon-wrap">
            <input class="f-input error" value="200301" />
            <span class="error-icon">‚úï</span>
          </div>
          <span class="field-error">‚úï Invalid format. Use 6 digits in pairs: XX XX XX</span>
        </div>
      </div>
      <div class="field-group">
        <label class="field-label">Category <span class="field-req">*</span></label>
        <div class="select-wrap"><select class="f-select"><option selected>General Waste</option><option>Recycling</option><option>Organic</option><option>Hazardous</option><option>Other</option></select></div>
      </div>
      <div class="field-group">
        <label class="field-label">Description</label>
        <textarea class="f-textarea" style="height:64px">Unsorted household and commercial waste not separately collected.</textarea>
      </div>
      <div class="field-group">
        <label class="field-label">Status</label>
        <div class="toggle-row">
          <button class="toggle on" onclick="this.classList.toggle('on');this.classList.toggle('off')"></button>
          <span style="font-size:13px;color:#172B4D">Active</span>
          <span style="font-size:12px;color:#6B778C">Inactive fractions cannot be assigned to products.</span>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeModal('m-new-fraction')">Cancel</button>
      <button class="btn btn-primary">Save Waste Fraction</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     JAVASCRIPT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
// Filter panel config per tab
const filterPanels = {
  categories: {
    label: 'Filter by Type (PD-39)',
    items: [
      { label: 'All Categories', count: 4, active: true },
      { label: 'Service', count: 2 },
      { label: 'Container', count: 1 },
      { label: 'Fees', count: 1 },
    ]
  },
  fractions: {
    label: 'Filter by Category',
    items: [
      { label: 'All Fractions', count: 5, active: true },
      { label: 'General Waste', count: 1 },
      { label: 'Recycling', count: 2 },
      { label: 'Organic', count: 1 },
      { label: 'Hazardous', count: 1 },
    ]
  },
  units: {
    label: 'Filter by Type (PD-326)',
    items: [
      { label: 'All Units', count: 6, active: true },
      { label: 'Weight', count: 2 },
      { label: 'Volume', count: 2 },
      { label: 'Time / Distance', count: 2 },
    ]
  },
  zones: {
    label: 'Filter by Type (PD-325)',
    items: [
      { label: 'All Zones', count: 3, active: true },
      { label: 'Urban', count: 1 },
      { label: 'Suburban', count: 1 },
      { label: 'Rural', count: 1 },
    ]
  },
  products: {
    label: 'Filter by Type (PD-41)',
    items: [
      { label: 'All Products', count: 8, active: true },
      { label: 'Service Product', count: 4 },
      { label: 'Container Product', count: 2 },
      { label: 'Additional Service', count: 1 },
      { label: 'One-off Fee', count: 1 },
      { label: 'Recurring Fee', count: 0 },
    ]
  },
  detail: {
    label: 'Filter by Type (PD-41)',
    items: [
      { label: 'All Products', count: 8 },
      { label: 'Service Product', count: 4, active: true },
      { label: 'Container Product', count: 2 },
      { label: 'Additional Service', count: 1 },
      { label: 'One-off Fee', count: 1 },
      { label: 'Recurring Fee', count: 0 },
    ]
  }
};

function renderFilterPanel(tabId) {
  const panel = document.getElementById('filter-panel');
  const cfg = filterPanels[tabId] || filterPanels.categories;
  panel.innerHTML = `<div class="filter-label">${cfg.label}</div>` +
    cfg.items.map(item =>
      `<div class="filter-item${item.active ? ' active' : ''}" onclick="filterClick(this)">
        ${item.label}
        <span class="filter-count">${item.count}</span>
      </div>`
    ).join('');
}

function filterClick(el) {
  el.closest('.filter-panel').querySelectorAll('.filter-item').forEach(i => i.classList.remove('active'));
  el.classList.add('active');
}

function switchTab(id) {
  // Hide all screens
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  // Deactivate all tab items
  document.querySelectorAll('.tab-nav-item').forEach(t => t.classList.remove('active'));

  // Map tab id to screen and nav item
  const map = {
    categories: 'tabnav-categories',
    fractions:  'tabnav-fractions',
    units:      'tabnav-units',
    zones:      'tabnav-zones',
    products:   'tabnav-products',
    detail:     'tabnav-products',
  };

  const screenEl = document.getElementById('screen-' + id);
  if (screenEl) screenEl.classList.add('active');

  const navEl = document.getElementById(map[id]);
  if (navEl) navEl.classList.add('active');

  renderFilterPanel(id);
}

function switchToDetail() {
  switchTab('detail');
  // make sure overview is shown
  const ov = document.getElementById('det-overview');
  const cf = document.getElementById('det-config');
  if (ov) ov.style.display = '';
  if (cf) cf.style.display = 'none';
  const bar = document.querySelector('#screen-detail .sub-bar');
  if (bar) {
    bar.querySelectorAll('.sub-btn').forEach(b => b.classList.remove('active'));
    bar.querySelectorAll('.sub-btn')[0].classList.add('active');
  }
}

function showSub(screen, sub, btn) {
  if (btn) {
    btn.closest('.sub-bar').querySelectorAll('.sub-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }
  if (screen === 'categories') {
    document.getElementById('cat-list').style.display     = sub === 'list'     ? '' : 'none';
    document.getElementById('cat-skeleton').style.display = sub === 'skeleton' ? '' : 'none';
  }
  if (screen === 'detail') {
    document.getElementById('det-overview').style.display = sub === 'overview' ? '' : 'none';
    document.getElementById('det-config').style.display   = sub === 'config'   ? '' : 'none';
    if (sub === 'overview' && btn === null) {
      const bar = document.querySelector('#screen-detail .sub-bar');
      if (bar) { bar.querySelectorAll('.sub-btn').forEach(b => b.classList.remove('active')); bar.querySelectorAll('.sub-btn')[0].classList.add('active'); }
    }
  }
}

function openModal(id)  { document.getElementById(id).classList.add('open'); }
function closeModal(id) { document.getElementById(id).classList.remove('open'); }

document.querySelectorAll('.modal-overlay').forEach(o => {
  o.addEventListener('click', e => { if (e.target === o) o.classList.remove('open'); });
});
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') document.querySelectorAll('.modal-overlay.open').forEach(m => m.classList.remove('open'));
});

// Init
renderFilterPanel('categories');
</script>
</body>
</html>
